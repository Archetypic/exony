Upstream: notified through yap-users@lists.sourceforge.net

From a46d14115b50019aed89ca86fc391873b86de927 Mon Sep 17 00:00:00 2001
From: Nikolay Orlyuk <virkony@gmail.com>
Date: Sun, 19 Aug 2012 23:43:48 +0300
Subject: [PATCH] fixed makefiles to build in multilib env

---
 os/libtai/Makefile.in                              | 2 +-
 packages/CLPBN/horus/Makefile.in                   | 2 +-
 packages/Dialect.defs.in                           | 2 +-
 packages/cplint/Makefile.in                        | 4 ++--
 packages/cplint/approx/simplecuddLPADs/Makefile.in | 2 +-
 packages/cplint/slipcase/Makefile.in               | 2 +-
 6 files changed, 7 insertions(+), 7 deletions(-)

diff --git a/os/libtai/Makefile.in b/os/libtai/Makefile.in
index 4f7514e..0ae67c4 100644
--- a/os/libtai/Makefile.in
+++ b/os/libtai/Makefile.in
@@ -12,7 +12,7 @@ prefix=@prefix@
 exec_prefix=@exec_prefix@
 srcdir=@srcdir@
 bindir=$(exec_prefix)/bin
-PLBASE=$(prefix)/lib/@PL@-$(PLVERSION)
+PLBASE=@libdir@/@PL@-$(PLVERSION)
 man_prefix=$(prefix)/man
 mansec=1
 lmansec=3
diff --git a/packages/CLPBN/horus/Makefile.in b/packages/CLPBN/horus/Makefile.in
index 1ac1f06..8aa12d4 100644
--- a/packages/CLPBN/horus/Makefile.in
+++ b/packages/CLPBN/horus/Makefile.in
@@ -150,7 +150,7 @@ hcli: $(HCLI_OBJS)
 
 
 install: all
-	$(INSTALL_PROGRAM) $(SOBJS) $(DESTDIR) $(YAPLIBDIR)
+	$(INSTALL_PROGRAM) $(SOBJS) $(DESTDIR)$(YAPLIBDIR)
 
 
 clean:
diff --git a/packages/Dialect.defs.in b/packages/Dialect.defs.in
index 4fed106..40faaaa 100644
--- a/packages/Dialect.defs.in
+++ b/packages/Dialect.defs.in
@@ -22,7 +22,7 @@ PLBASE=@prefix@
 PLARCH=@ARCH@
 PLINCL=$(PLBASE)/include
 PLLIBDIR=$(PLBASE)/share/Yap
-SOLIBDIR=$(PLBASE)/lib/Yap
+SOLIBDIR=@libdir@/Yap
 PKGDOCDIR=$(PLBASE)/share/doc/Yap/packages
 PKGEXDIR=$(PLBASE)/share/doc/Yap/packages/examples
 XPCEBASE=$(PLBASE)/xpce
diff --git a/packages/cplint/Makefile.in b/packages/cplint/Makefile.in
index f8955c1..3986d01 100644
--- a/packages/cplint/Makefile.in
+++ b/packages/cplint/Makefile.in
@@ -13,8 +13,8 @@ BINDIR = $(EROOTDIR)/bin
 #
 # where YAP should look for libraries
 #
-LIBDIR=${exec_prefix}/lib
-YAPLIBDIR=${exec_prefix}/lib/Yap
+LIBDIR=@libdir@
+YAPLIBDIR=$(LIBDIR)/Yap
 #
 # where YAP should look for architecture-independent Prolog libraries
 #
diff --git a/packages/cplint/approx/simplecuddLPADs/Makefile.in b/packages/cplint/approx/simplecuddLPADs/Makefile.in
index e5e3707..ee858d5 100644
--- a/packages/cplint/approx/simplecuddLPADs/Makefile.in
+++ b/packages/cplint/approx/simplecuddLPADs/Makefile.in
@@ -12,7 +12,7 @@ BINDIR = $(EROOTDIR)/bin
 #
 # where YAP should look for libraries
 #
-LIBDIR=$(EROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 DESTDIR=$(prefix)/share/Yap
 #
 #
diff --git a/packages/cplint/slipcase/Makefile.in b/packages/cplint/slipcase/Makefile.in
index b7ecdef..ca12581 100644
--- a/packages/cplint/slipcase/Makefile.in
+++ b/packages/cplint/slipcase/Makefile.in
@@ -12,7 +12,7 @@ BINDIR = $(EROOTDIR)/bin
 #
 # where YAP should look for libraries
 #
-LIBDIR=$(EROOTDIR)/lib/Yap
+LIBDIR=@libdir@/Yap
 DESTDIR=$(prefix)/share/Yap
 #
 #
-- 
1.7.11.4

